<!doctype html>

<html lang="en" ng-app="GeoPoetryApp">
<head>
	<meta charset="utf-8">

	<title>Geo-Poetry Demo</title>
	<meta name="description" content="The Geo-Poetry E-Lit Project">

	<script type="text/javascript" src="angular.min.js"></script>
	<script type="text/javascript" src="fcsaNumber.js"></script>
	<script type="text/javascript" src="demo.js"></script>
</head>

<body ng-controller="GeoPoetryController">

	<div ng-show="error_message">
		<span ]>ERROR:&nbsp;</span>
		<span>{{error_message}}</span>
		<button ng-click="error_message = ''">close</button><!-- TODO Icons -->
	</div>

	<h1>Options</h1>
	<div>
		<form>
			<div>
				<label>Location:</label>
				<input type="radio" ng-model="use_browser_gps" value="1" ng-change="refreshGPS()">Use Current Location</input>
				<input type="radio" ng-model="use_browser_gps" value="0">Manually Enter</input>
				<label>Latitude</label>
				<input type="text" fcsa-number="{ min: -90, max: 90 }"
					ng-model="latitude" ng-disabled="use_browser_gps == '1'"></input>
				<label>Longitude</label>
				<input type="text" fcsa-number="{ min: -180, max: 180 }"
					ng-model="longitude" ng-disabled="use_browser_gps == '1'"></input>
				<label>Radius</label>
				<input type="text" fcsa-number="{ min: 0 }" ng-model="radius"></input>
				<input type="radio" ng-model="radius_units" value="km">km</input>
				<input type="radio" ng-model="radius_units" value="mi">mi</input>
			<div>
				<label>Music Genre:</label>
				<select ng-model="selected_genre">
					<option>-</option> <!-- unselected option -->
					<option ng-repeat="genre in genres">{{genre}}</option>
				</select>
				<button ng-click="refreshGenreList()">Refresh List</button>
			</div>
			<divu>
				<label>Song Energy:</label>
				<input type="text" ng-model="energy" fcsa-number="{ min: 0, max: 1 }"></input>
			</div>
			<div>
				<button ng-click="submitForm()">Generate Poetry!</button>
				<span ng-show="poetry_loading">Loading...</span>
			</div>
		</form>
	</div>

	<hr />

	<h1u>Results</h1>
	<divu>
		<divu>
			<span ng-repeat="line in poetry_lines" class="poetry-line">{{line}}<br /></span>
		</div>
		<!-- TODO Embed Spotify -->
	</div>
</body>
</html>